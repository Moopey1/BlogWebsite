<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tinuslab Blog</title>
</head>
<style>
    html,
    body {
        height: 100%;
        margin: 0;
        /* #A7ADC6 */
        /* background-color: #2C1320; */
        /* background-color: #5F4B66; */
        /* background-color: #FFFFFF; */
        /* background-color: #353535; */
        background-color: #363635;
    }

    main {
        display: flex;
        height: 100%;
        justify-content: center;
    }

    header {
        display: flex;
        justify-content: center;
    }

    #headerWrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        max-width: 800px;
        width: 90%;
        padding: 0.5em;
        /* background-color: #5F4B66; */
        /* background-color: #3C6E71; */
        background-color: #56A1A4;
    }

    #headerWrapper h1 {
        font-family: Arial, Helvetica, sans-serif;
    }

    #introduction {
        width: 50%;
    }

    #namePhoto h2 {
        font-family: Arial, Helvetica, sans-serif;
        margin-left: 0.5em;
    }

    #introText {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 1.1em;
    }


    #blogCardsContainer {
        /* background-color: #3C6E71; */
        background-color: #56A1A4;
        padding: 0.5em;
        max-width: 800px;
        width: 90%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    #namePhoto {
        display: flex;
    }

    #hoofd {
        width: 20%;
        border-radius: 50%;
    }

    blog-card {
        display: flex;
        justify-content: center;
        width: 100%;
    }
</style>

<body>

    <header>
        <div id="headerWrapper">
            <h1>CCNA and Homelab Blog</h1>
            <div id="introduction">
                <div id="namePhoto">
                    <img src="./foto.jpg" id="hoofd">
                    <h2>Tijn Gort</h2>
                </div>
                <p id="introText">
                    I am a IT student working at a social IT company. <br> I'm currently studying for CCNA and I work on
                    my homelab and this website!
                </p>
            </div>
        </div>

    </header>

    <main>
        <div id="blogCardsContainer">
            <blog-card title="I made this blog website and overengineered these blog cards!" tags="#homelab,#networking"
                summary="Atleast I learned something along the way." url="./firstBlog.html"></blog-card>
            <blog-card title="I made this blog website and overengineered these blog cards!" tags="#homelab,#networking"
                summary="Atleast I learned something along the way." url="./firstBlog.html"></blog-card>
        </div>

    </main>
    <script>
        class BlogCard extends HTMLElement {
            constructor() {
                super();
            }

            connectedCallback() {
                this.title = this.getAttribute('title');
                this.tags = this.getAttribute('tags');
                this.summary = this.getAttribute('summary');
                this.url = this.getAttribute('url');

                this.buildCard();
            }

            buildElement(element, name, type) {
                let htmlElement = document.createElement(element);
                if (type == 'class') {
                    htmlElement.className = name;
                } else {
                    htmlElement.id = name;
                }
                return htmlElement;
            }

            buildCard() {
                const cardWrapper = this.buildElement('div', 'wrapper', 'class');
                const headerTitle = this.buildElement('h3', 'title', 'class');
                const tagsWrapper = this.buildElement('div', 'tags', 'class');
                const summary = this.buildElement('p', 'summary', 'class');
                const fullDate = this.buildElement('p', 'fullDate', 'class');
                const link = this.buildElement('a', 'link', 'class');
                const tags = this.tags.split(',');
                const shadow = this.attachShadow({ mode: "open" });
                const sheet = new CSSStyleSheet();
                const date = new Date();

                sheet.replaceSync(".wrapper { width: 70%; padding: 1em; margin: 0.5em; border-radius: 15px; } .fullDate { font-family: Arial, Helvetica, sans-serif; margin: 0.3em; margin-left: 0; font-size: 1em } .title { text-decoration: underline; margin: 0; font-family: Arial, Helvetica, sans-serif; font-size: 1.5em; } .tags { display: flex; } .tags p { margin: 0; padding-right: 0.4em; font-family: Arial, Helvetica, sans-serif; font-size: 1.2em; } .summary { padding: 0.5em; border-top: 0; border-right: 0; border-bottom: 0; border-style: solid;font-family: Arial, Helvetica, sans-serif; font-size: 1.2em;} .link { font-family: Arial, Helvetica, sans-serif; font-size: 1.1em; color: black; }")

                shadow.adoptedStyleSheets = [sheet];

                tags.forEach((tag) => {
                    const cardTag = this.buildElement('p', 'tag', 'class');
                    cardTag.innerText = tag;
                    tagsWrapper.append(cardTag);
                });

                headerTitle.innerText = this.title;
                summary.innerText = this.summary;
                fullDate.innerText = `${date.getDay()}-${date.getMonth() + 1}-${date.getFullYear()}`;
                link.setAttribute('href', this.url);
                link.innerText = 'Read more';

                cardWrapper.append(headerTitle, tagsWrapper, fullDate, summary, link);
                shadow.append(cardWrapper);
            }

        }

        customElements.define('blog-card', BlogCard);
    </script>
</body>

</html>